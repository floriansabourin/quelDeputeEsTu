<!DOCTYPE html>
<html ng-app="nideputenisoumises">

  <head>
    <meta charset="utf-8" />
    <title>Ni député ni soumises</title>
    <link data-require="bootstrap-css@3.3.6" data-semver="3.3.6" rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.css" />
    <script>document.write('<base href="' + document.location + '" />');</script>
    <link rel="stylesheet" href="modern-business.css" />
    <script data-require="angular.js@1.0.x" src="https://code.angularjs.org/1.0.8/angular.js" data-semver="1.0.8"></script>
    <script src="https://apis.google.com/js/client:plusone.js" type="text/javascript"></script>
    <script data-require="jquery@2.2.0" data-semver="2.2.0" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script data-require="bootstrap@3.3.6" data-semver="3.3.6" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <meta name="google-signin-client_id" content="149865370621-ep07k9i24edon0krf12m34tmvc1naekn.apps.googleusercontent.com">
    <script src="app.js"></script> 
    <script type="text/javascript">
    function onSignIn(googleUser) {
    	var profile = googleUser.getBasicProfile();
    	console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
    	console.log('Name: ' + profile.getName());
    	console.log('Email: ' + profile.getEmail());
		console.log("profile name :"+profile.getName());
		angular.element(document.getElementById('MainCtrl')).scope().majConnexion(profile.getName());		
		angular.element(document.getElementById('MainCtrl')).scope().$apply();
    	}
    function signOut() {
        var auth2 = gapi.auth2.getAuthInstance();        
        auth2.signOut().then(function () {
          console.log('User signed out.');
          angular.element(document.getElementById('MainCtrl')).scope().majConnexion(profile.getName());		
  		  angular.element(document.getElementById('MainCtrl')).scope().$apply();
        });
     }
	</script>
    
  </head>  



  <body ng-controller="MainCtrl" id="MainCtrl">
    
    <div class="navTemplate"></div>
    
    <div class="container">

      <div class="row">
          <div class="col-lg-12">
              <h1 class="page">
                  Bienvenue sur Ni député Ni soumises
              </h1>
              <h5 class="page-header"  style="margin: 0px 0px 20px 0px;">
              	Vote des lois et regarde où tu te situes dans l'hémicycle
              </h5>
          </div>
      </div>
      
      <div class="row" ng-hide=connecte>
        <div class="col-xs-6 col-xs-offset-3">
          <div class="panel panel-primary">
            <div class="panel-heading">Authentification requise</div>
            <div class="panel-body">
              Identifie toi avec un compte Google.
              <br/>
              <br/>
              <div id="bloc_page" align="center">
              	<div id="signinButton" class="g-signin2" data-onsuccess="onSignIn"></div>
              </div>
        	</div>
           </div>
         </div>
       </div>
       
       <div class="row" ng-show=connecte>
       		<h1>Dashboard</h1>
       </div>
      
      <br/>
      <hr>
      <div class="footerTemplate"></div>

    </div>
  </body>
</html>
